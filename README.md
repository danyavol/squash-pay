# SquashPay

`pnpm dev`

## 1. Общие концептуальные требования

* **Тип приложения:** PWA (доступ по ссылке, установка на главный экран, работа offline через LocalStorage).
* **Принцип расчетов:** Один расчет = один временной слот (час или два). Если условия меняются в процессе (разное кол-во кортов), создается новый расчет.
* **Справедливость скидки:** Скидка Multisport ( PLN или иная) вычитается персонально из доли того, кто принес карту.
* **Округление:** Опциональное округление всех сумм "вверх" до целых злотых. Остаток (профит) остается у плательщика.

---

## 2. Структура страниц и их возможности

### Страница 1: Новый расчет (Главная)

Это основной рабочий экран, где происходит магия после игры.

* **Секция "Параметры":**
* Выбор даты (по умолчанию сегодня).
* Кол-во кортов (степпер +/-).
* Длительность (1ч, 1.5ч, 2ч).


* **Секция "Advanced" (скрытая по умолчанию):**
* Возможность разово изменить цену часа, размер скидки или лимит карт (не меняя глобальные настройки).


* **Секция "Игроки":**
* Поиск/добавление игрока из "Базы друзей". Если имени нет — создание нового на лету.
* Список участников с выбором кол-ва карт Multisport (0, 1, 2).
* Выбор одного "Плательщика" (тот, кто оплатил счет в клубе).


* **Секция "Результат":**
* Динамический предпросмотр: кто и сколько должен.
* Кнопка **"Поделиться"**: копирует текст в буфер и открывает системное меню Share (для Telegram/WhatsApp). Текст включает суммы, имена и реквизиты (Blik/Revolut).



### Страница 2: База друзей

Управление списком людей, чтобы не вводить их каждый раз.

* **Список всех имен:** Возможность добавить нового друга или отредактировать имя.
* **Удаление:** "Мягкое" удаление (скрытие из списка выбора, но сохранение в истории для корректного отображения старых записей).
* **Быстрые действия:** Возможность пометить друга как "частого гостя", чтобы он был в топе списка.

### Страница 3: История расчетов

* **Лента записей:** Список всех прошлых игр, отсортированный от новых к старым.
* **Детальный вид:** По клику на запись открывается полная смета того дня.
* **Повторный шеринг:** Можно снова скопировать текст старого расчета, если кто-то из друзей забыл заплатить и через неделю.

### Страница 4: Настройки (Settings)

Глобальные дефолтные значения для новых расчетов.

* **Финансы:** Дефолтная цена корта, размер скидки Multisport.
* **Лимиты:** Максимальное кол-во карт на один корт в час.
* **Округление:** Чекбокс "Округлять суммы вверх".
* **Реквизиты:** Поле для номера телефона (Blik) и поле для ника (Revolut).

---

## 3. Логика расчетов (Математика)

Для автоматизации мы используем следующую формулу:

<img width="711" height="179" alt="image" src="https://github.com/user-attachments/assets/acb19396-eee9-463f-bee5-8bcfe35022ed" />


---

## 4. Технический стек (Рекомендация)

* **Framework:** React (Vite) для скорости.
* **State:** `Context API` или просто `useState` с синхронизацией в `LocalStorage`.
* **UI:** `Tailwind CSS` или `Mantine` (хорошо подходят для мобильных интерфейсов и темной темы).
* **Icons:** `Lucide React` (ракетки, кошельки, пользователи).
